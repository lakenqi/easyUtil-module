//  ========== 
//		scrollbar
//  = (c) Copyright 2019 qy. All Rights Reserved.  = 
//  ========== 
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"function"==typeof define&&define.amd?define(e):"function"==typeof define?define(e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e():t.easyBar=e()}("undefined"!=typeof window?window:void 0,function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.width,s=void 0===o?8:o,h=e.time,n=void 0===h?2e3:h,r=e.colorOut,l=void 0===r?"rgba(0,0,0,.2)":r,d=e.colorIn,a=void 0===d?"grey":d,u=e.speed,c=void 0===u?10:u;if(void 0===t)throw new TypeError('easyBar: "id" is undefined!;');if(c<=0)throw new TypeError('easyBar: "speed" must be greater than 0 !');if(n<0)throw new TypeError('easyBar: "time" can not be a negative value!');return c>100&&(c=100),new i(t,s,n,l,a,c).init()}var e={__callback:null,__node:null,on:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.__callback=t,this.__node=e?document.querySelector(e):document,this.__node.addEventListener("mousewheel",this.__callback,i),this.__node.addEventListener("DOMMouseScroll",this.__callback,i)},off:function(){this.__node.removeEventListener("mousewheel",this.__callback),this.__node.removeEventListener("DOMMouseScroll",this.__callback),this.__node=null,this.__callback=null},delta:function(t){return t.wheelDelta?t.wheelDelta:40*-t.detail}},i=function(){function t(e,i,o,s,h,n){_classCallCheck(this,t),this.id=e,this.div=document.querySelector(e),this.out=null,this.bar=null,this.timer=null,this.speed=n,this.time=o,this.outColor=s,this.barColor=h,this.oHeight=this.div.offsetHeight,this.oWidth=this.div.offsetWidth,this.bHeight=this.div.scrollHeight,this.percent=this.oHeight/this.bHeight,this.scoHeight=this.bHeight-this.oHeight,this.pageYstore=0,this.bWidth=i,this.bHeight=this.oHeight*this.percent}return _createClass(t,[{key:"init",value:function(){this.__makeBar(),this.timer=this.__judge(),this.__event()}},{key:"__event",value:function(){var t=this,i=function(e){t.__rollScroll(e.pageY<t.pageYstore,e.pageY>t.pageYstore),t.pageYstore=e.pageY};this.div.addEventListener("mousedown",function(e){t.bar.addEventListener("mousemove",i)}),this.div.addEventListener("mouseup",function(e){t.bar.removeEventListener("mousemove",i)}),e.on(function(i){t.__rollScroll(e.delta(i)>0,e.delta(i)<0)},this.id)}},{key:"__makeBar",value:function(){this.div.style.overflow="hidden",this.out=document.createElement("div"),this.bar=document.createElement("div");var t=this.out.style,e=this.bar.style;t.position=e.position="absolute",t.width=e.width=this.bWidth+"px",t.backgroundColor=this.outColor,e.backgroundColor=this.barColor,e.borderRadius="30%",this.__fixPostion(),this.out.appendChild(this.bar),this.div.insertBefore(this.out,this.div.firstChild)}},{key:"__judge",value:function(){var t=this;return setTimeout(function(){t.out.style.visibility="hidden"},this.time)}},{key:"__rollScroll",value:function(t,e){this.out.style.visibility="visible",clearTimeout(this.timer),this.timer=this.__judge(),this.__fixPostion(),t&&0!==this.div.scrollTop&&(this.div.scrollTop-=this.scoHeight/this.speed),e&&this.div.scrollTop!==this.scoHeight&&(this.div.scrollTop+=this.scoHeight/this.speed),this.bar.style.top=this.div.scrollTop*this.percent+"px"}},{key:"__fixPostion",value:function(){var t=this.out.style,e=this.bar.style;this.oHeight=this.div.offsetHeight,this.bHeight=this.div.scrollHeight,this.oWidth=this.div.offsetWidth,this.percent=this.oHeight/this.bHeight,this.scoHeight=this.bHeight-this.oHeight,this.bHeight=this.oHeight*this.percent,t.height=this.oHeight+"px",t.width=this.bWidth+"px",t.marginLeft=this.oWidth-this.bWidth+"px",e.height=this.bHeight+"px",e.width=this.bWidth+"px",e.top=this.div.scrollTop*this.percent+"px"}}]),t}();return{create:t}});